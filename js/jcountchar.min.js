!function(a){var b=function(b,c){var d={defaults:{type:"default",charLimit:50,warning:20,criticalWarning:10,onUnderZero:null,onCriticalWarning:null,onWarning:null,onCountResult:null},amountChar:function(){var a=this;return a.settings.charLimit-a.charFormEl.val().length},countChar:function(){var a=this,b=(a.charFormEl,a.charCountEl),c=a.amountChar();"function"==typeof a.settings.onCountResult?a.settings.onCountResult.call(a):b.html(c),c<=a.settings.warning&&c>a.settings.criticalWarning?(b.removeClass("superwarn").addClass("warn"),"function"==typeof a.settings.onWarning&&a.settings.onWarning.call(a)):c<=a.settings.criticalWarning?(b.removeClass("warn").addClass("superwarn"),c>=0&&"function"==typeof a.settings.onCriticalWarning&&a.settings.onCriticalWarning.call(a),c<0&&"function"==typeof a.settings.onUnderZero&&a.settings.onUnderZero.call(a)):b.removeClass("warn").removeClass("superwarn")},effectChar:function(){var a=this,b=a.amountChar();"twitter"==a.settings.type?(b<a.settings.warning?a.showCount():a.hideCount(),a.charFormEl.off("mouseover mouseleave")):(a.showCount(),a.charFormEl.off("mouseover mouseleave keyup"))},showCount:function(){var a=this;a.charCountEl.addClass("show")},hideCount:function(){var a=this;a.charCountEl.removeClass("show")},init:function(){d.charFormEl=a(b),d.settings={},d.charFormEl.each(function(){var b=a(this),e=b.data("jchar-name"),f=a('[data-jchar-select="'+e+'"]');d.charCountEl=f,d.settings=a.extend({},d.defaults,c),d.countChar(),d.effectChar(),b.on("keyup",function(){d.countChar(),"twitter"==d.settings.type&&d.effectChar()})})}};return{defaults:d.defaults,init:d.init}};jQuery.fn.countChar=function(a){return this.each(function(c,d){var e=new b(d,a);e.init()})}}(jQuery);